!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{iiqm:function(t,r,i){"use strict";i.r(r),i.d(r,"MatrixModule",(function(){return S}));var o=i("vOrQ"),a=i("3xDq"),s=i("PBFl"),l=i("bFHC"),c=i("HYj3"),d=i("Y2X+"),p=i("Yf6g"),m=i("PxAM"),u=i("D57K"),g=i("wgwC"),f=i("GKLY"),h=i("0S4P"),v=i("Sv/w"),x=["template"];function w(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",7),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).done(e)}))("mouseover",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).hover(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("on",i.isOn(r))}}function y(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275elementStart"](1,"div",2),o["\u0275\u0275elementStart"](2,"span"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"div",3),o["\u0275\u0275elementStart"](5,"button",4),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().close()})),o["\u0275\u0275elementStart"](6,"mat-icon"),o["\u0275\u0275text"](7,"close"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275template"](9,w,2,2,"ng-container",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("Choisissez la taille de votre matrice: (",r.rows+1,", ",r.cols+1,")"),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngForOf",r.cells)("ngForTrackBy",r.trackBy)}}var b,C=((b=function(){function t(n,r){e(this,t),this.overlay=n,this.container=r,this.width=10,this.cells=Array.from({length:this.width*this.width},(function(e,t){return t})),this.cols=0,this.rows=0,this.resized=new o.EventEmitter}return n(t,[{key:"ngOnDestroy",value:function(){var e;null===(e=this.resizer)||void 0===e||e.dispose()}},{key:"isOn",value:function(e){var t=e%this.width;return Math.floor(e/this.width)<=this.rows&&t<=this.cols}},{key:"hover",value:function(e){this.cols=e%this.width,this.rows=Math.floor(e/this.width)}},{key:"done",value:function(e){this.resized.emit({cols:e%this.width+1,rows:Math.floor(e/this.width)+1}),this.close()}},{key:"open",value:function(e){var t=e.x,n=e.y,r=this.overlay.position().flexibleConnectedTo({x:t,y:n}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]);this.resizer=this.overlay.create({positionStrategy:r,hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.resizer.attach(new v.g(this.template,this.container))}},{key:"close",value:function(){var e;null===(e=this.resizer)||void 0===e||e.dispose(),this.resizer=void 0}},{key:"trackBy",value:function(e){return e}}]),t}()).\u0275fac=function(e){return new(e||b)(o["\u0275\u0275directiveInject"](c.c),o["\u0275\u0275directiveInject"](o.ViewContainerRef))},b.\u0275cmp=o["\u0275\u0275defineComponent"]({type:b,selectors:[["wc-matrix-resizer"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275viewQuery"](x,!0,o.TemplateRef),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.template=n.first)},outputs:{resized:"resized"},decls:2,vars:0,consts:[["template",""],[1,"matrix-resizer"],[1,"matrix-resizer-header"],[1,"spacer"],["mat-icon-button","","matTooltip","Annuler",3,"click"],[1,"matrix-resizer-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-resizer-box",3,"click","mouseover"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,y,10,4,"ng-template",null,0,o["\u0275\u0275templateRefExtractor"])},directives:[s.b,d.a,l.a,h.NgForOf],styles:[".matrix-resizer[_ngcontent-%COMP%]{background-color:#fff}.matrix-resizer-header[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1;background-color:#f5f5f5;width:calc((20px * 10) + 10px);height:32px;font-size:.8em}.matrix-resizer-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 8px}.matrix-resizer-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:32px;font-size:1.4em}.matrix-resizer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,20px);grid-template-rows:repeat(10,20px);-moz-column-gap:1px;column-gap:1px;row-gap:1px}.matrix-resizer-box[_ngcontent-%COMP%]{border:1px solid #eee;transition:background-color .5s;cursor:pointer}.matrix-resizer-box.on[_ngcontent-%COMP%], .matrix-resizer-box[_ngcontent-%COMP%]:hover{background-color:var(--brand-color-primary)}.spacer[_ngcontent-%COMP%]{flex:1}"]}),b),z=i("4cXV");function M(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"input",6),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),t.$implicit.value=e})),o["\u0275\u0275pipe"](2,"css"),o["\u0275\u0275pipe"](3,"css"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pipeBind2"](2,4,r.css,"class"))("ngStyle",o["\u0275\u0275pipeBind2"](3,7,r.css,"style"))("disabled",!(!i.state.disabled&&!r.disabled))("ngModel",r.value)}}var O,k,P=((k=function(){function t(n){e(this,t),this.injector=n}return n(t,[{key:"onChangeState",value:function(){var e=this.state,t=e.cols,n=e.rows;this.state.cells||(this.state.cells=[]);var r=this.state.cells.length,i=t*n;if(r<i)for(var o=r;o<i;o++)this.state.cells.push({value:"0"});else r>i&&(this.state.cells=this.state.cells.slice(0,i))}},{key:"resize",value:function(e){this.state.cols=e.cols,this.state.rows=e.rows}},{key:"trackBy",value:function(e){return e}},{key:"styles",get:function(){return{"--cols":this.state.cols,"--rows":this.state.rows}}}]),t}()).\u0275fac=function(e){return new(e||k)(o["\u0275\u0275directiveInject"](o.Injector))},k.\u0275cmp=o["\u0275\u0275defineComponent"]({type:k,selectors:[["wc-matrix"]],hostVars:2,hostBindings:function(e,t){2&e&&o["\u0275\u0275styleMap"](t.styles)},inputs:{state:"state"},decls:8,vars:3,consts:[[1,"matrix"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-icon-button","","matTooltip","Redimensionner",3,"click"],[3,"resized"],["resizer",""],[3,"state","stateChange"],["type","text","tabindex","1",3,"ngClass","ngStyle","disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,M,4,10,"ng-container",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"button",2),o["\u0275\u0275listener"]("click",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275reference"](6).open(e)})),o["\u0275\u0275elementStart"](3,"mat-icon"),o["\u0275\u0275text"](4,"aspect_ratio"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"wc-matrix-resizer",3,4),o["\u0275\u0275listener"]("resized",(function(e){return t.resize(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"wc-base",5),o["\u0275\u0275listener"]("stateChange",(function(e){return t.state=e})),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.state.cells)("ngForTrackBy",t.trackBy),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("state",t.state))},directives:[h.NgForOf,s.b,d.a,l.a,C,z.a,a.DefaultValueAccessor,h.NgClass,h.NgStyle,a.NgControlStatus,a.NgModel],pipes:[m.a],styles:['[_nghost-%COMP%]{--cols:3;--rows:3;--row-size:2em;--col-size:4em;--gap:0.5em}.matrix[_ngcontent-%COMP%]{display:grid;height:calc(var(--row-size) * var(--rows) + var(--gap) * var(--rows) + .2rem);width:calc(var(--col-size) * var(--cols) + var(--gap) * var(--cols) + .2rem);grid-template-rows:repeat(var(--rows),1fr);grid-template-columns:repeat(var(--cols),1fr);-moz-column-gap:var(--gap);column-gap:var(--gap);row-gap:var(--gap);margin:1rem;vertical-align:middle;position:relative}.matrix[_ngcontent-%COMP%]:after, .matrix[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;bottom:-6px;border:1px solid #000;width:6px}.matrix[_ngcontent-%COMP%]:before{left:-12px;border-right:0}.matrix[_ngcontent-%COMP%]:after{right:-12px;border-left:0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;position:relative;width:var(--col-size);height:var(--row-size);border-radius:4px;text-align:center;border:1px solid #f0f0f0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:none}'],changeDetection:0}),k=Object(u.b)([Object(g.b)(f.a)],k)),S=((O=function t(){e(this,t),this.customElementComponent=P}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:O}),O.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||O)},imports:[[p.a,m.b,a.FormsModule,c.f,l.b,d.b,s.c]]}),O)}}])}();