!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{QXAp:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r("0S4P"),o=r("/suG"),a=r("vOrQ"),s=function(){var e=function e(){n(this,e)};return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,o.g],i.CommonModule]}),e}()},hPIy:function(e,r,i){"use strict";i.d(r,"a",(function(){return d}));var o=i("vOrQ"),a=i("5HSb"),s=i("0S4P"),l=i("/suG"),c=["container"];function u(e,t){if(1&e&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"nge-monaco-viewer",1),o["\u0275\u0275pipe"](2,"json"),o["\u0275\u0275elementContainerEnd"]()),2&e){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("code",o["\u0275\u0275pipeBind1"](2,1,n.state))}}var d=function(){var e=function(){function e(t,r){n(this,e),this.api=t,this.elementRef=r,this.stateChange=new o.EventEmitter}return t(e,[{key:"ngOnInit",value:function(){var e,t=this,n=this.elementRef.nativeElement,r=null===(e=n.parentElement)||void 0===e?void 0:e.tagName.toLowerCase();this.definition=this.api.findBySelector(r||""),this.observer=new MutationObserver((function(e){e.forEach(t.createStateFromAttributes.bind(t))})),this.observer.observe(n.parentElement,{attributes:!0}),this.createStateFromAttributes()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}},{key:"parse",value:function(e){return e.trim().match(/^(true|false|\d+|\[|\{)/)?JSON.parse(e):e}},{key:"createStateFromAttributes",value:function(){for(var e,t,n=this.elementRef.nativeElement.parentElement.attributes,r={},i=(null===(t=null===(e=this.definition)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.properties)||{},o=!1,a=0,s=Array.from(n);a<s.length;a++){var l=s[a];l.name in i&&(o=!0,r[l.name]=this.parse(l.value))}o&&this.stateChange.emit(r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](o.ElementRef))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["wc-base"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275viewQuery"](c,!0),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.container=n.first)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,u,3,3,"ng-container",0),2&e&&o["\u0275\u0275property"]("ngIf",null==t.state?null:t.state.debug)},directives:[s.NgIf,l.h],pipes:[s.JsonPipe],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]}),e}()},tnRD:function(e,r,i){"use strict";i.r(r),i.d(r,"MatrixModule",(function(){return P}));var o=i("vOrQ"),a=i("3xDq"),s=i("hCLc"),l=i("ydE+"),c=i("5GZx"),u=i("WYJo"),d=i("QXAp"),m=i("OS2g"),p=i("D57K"),f=i("hlYy"),h=i("FKBY"),v=i("0S4P"),g=i("ZtZA"),y=["template"];function x(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"div",7),o["\u0275\u0275listener"]("click",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).done(e)}))("mouseover",(function(){o["\u0275\u0275restoreView"](n);var e=t.$implicit;return o["\u0275\u0275nextContext"](2).hover(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"](2);o["\u0275\u0275advance"](1),o["\u0275\u0275classProp"]("on",i.isOn(r))}}function w(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",1),o["\u0275\u0275elementStart"](1,"div",2),o["\u0275\u0275elementStart"](2,"span"),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](4,"div",3),o["\u0275\u0275elementStart"](5,"button",4),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275nextContext"]().close()})),o["\u0275\u0275elementStart"](6,"mat-icon"),o["\u0275\u0275text"](7,"close"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"div",5),o["\u0275\u0275template"](9,x,2,2,"ng-container",6),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){var r=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("Choisissez la taille de votre matrice: (",r.rows+1,", ",r.cols+1,")"),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngForOf",r.cells)("ngForTrackBy",r.trackBy)}}var b,C=((b=function(){function e(t,r){n(this,e),this.overlay=t,this.container=r,this.width=10,this.cells=Array.from({length:this.width*this.width},(function(e,t){return t})),this.cols=0,this.rows=0,this.resized=new o.EventEmitter}return t(e,[{key:"ngOnDestroy",value:function(){var e;null===(e=this.resizer)||void 0===e||e.dispose()}},{key:"isOn",value:function(e){var t=e%this.width;return Math.floor(e/this.width)<=this.rows&&t<=this.cols}},{key:"hover",value:function(e){this.cols=e%this.width,this.rows=Math.floor(e/this.width)}},{key:"done",value:function(e){this.resized.emit({cols:e%this.width+1,rows:Math.floor(e/this.width)+1}),this.close()}},{key:"open",value:function(e){var t=e.x,n=e.y,r=this.overlay.position().flexibleConnectedTo({x:t,y:n}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]);this.resizer=this.overlay.create({positionStrategy:r,hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.resizer.attach(new g.h(this.template,this.container))}},{key:"close",value:function(){var e;null===(e=this.resizer)||void 0===e||e.dispose(),this.resizer=void 0}},{key:"trackBy",value:function(e){return e}}]),e}()).\u0275fac=function(e){return new(e||b)(o["\u0275\u0275directiveInject"](c.d),o["\u0275\u0275directiveInject"](o.ViewContainerRef))},b.\u0275cmp=o["\u0275\u0275defineComponent"]({type:b,selectors:[["wc-matrix-resizer"]],viewQuery:function(e,t){var n;1&e&&o["\u0275\u0275viewQuery"](y,!0,o.TemplateRef),2&e&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(t.template=n.first)},outputs:{resized:"resized"},decls:2,vars:0,consts:[["template",""],[1,"matrix-resizer"],[1,"matrix-resizer-header"],[1,"spacer"],["mat-icon-button","","matTooltip","Annuler",3,"click"],[1,"matrix-resizer-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-resizer-box",3,"click","mouseover"]],template:function(e,t){1&e&&o["\u0275\u0275template"](0,w,10,4,"ng-template",null,0,o["\u0275\u0275templateRefExtractor"])},directives:[s.b,u.a,l.a,v.NgForOf],styles:[".matrix-resizer[_ngcontent-%COMP%]{background-color:#fff}.matrix-resizer-header[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1;background-color:#f5f5f5;width:calc((20px * 10) + 10px);height:32px;font-size:.8em}.matrix-resizer-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 8px}.matrix-resizer-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:32px;font-size:1.4em}.matrix-resizer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,20px);grid-template-rows:repeat(10,20px);-moz-column-gap:1px;column-gap:1px;row-gap:1px}.matrix-resizer-box[_ngcontent-%COMP%]{border:1px solid #eee;transition:background-color .5s;cursor:pointer}.matrix-resizer-box.on[_ngcontent-%COMP%], .matrix-resizer-box[_ngcontent-%COMP%]:hover{background-color:var(--brand-color-primary)}.spacer[_ngcontent-%COMP%]{flex:1}"]}),b),O=i("hPIy");function z(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275elementStart"](1,"input",6),o["\u0275\u0275listener"]("ngModelChange",(function(e){return o["\u0275\u0275restoreView"](n),t.$implicit.value=e})),o["\u0275\u0275pipe"](2,"css"),o["\u0275\u0275pipe"](3,"css"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=t.$implicit,i=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pipeBind2"](2,4,r.css,"class"))("ngStyle",o["\u0275\u0275pipeBind2"](3,7,r.css,"style"))("disabled",!(!i.state.disabled&&!r.disabled))("ngModel",r.value)}}var M,k,S=((k=function(){function e(t){n(this,e),this.injector=t}return t(e,[{key:"onChangeState",value:function(){var e=this.state,t=e.cols,n=e.rows;this.state.cells||(this.state.cells=[]);var r=this.state.cells.length,i=t*n;if(r<i)for(var o=r;o<i;o++)this.state.cells.push({value:"0"});else r>i&&(this.state.cells=this.state.cells.slice(0,i))}},{key:"resize",value:function(e){this.state.cols=e.cols,this.state.rows=e.rows}},{key:"trackBy",value:function(e){return e}},{key:"styles",get:function(){return{"--cols":this.state.cols,"--rows":this.state.rows}}}]),e}()).\u0275fac=function(e){return new(e||k)(o["\u0275\u0275directiveInject"](o.Injector))},k.\u0275cmp=o["\u0275\u0275defineComponent"]({type:k,selectors:[["wc-matrix"]],hostVars:2,hostBindings:function(e,t){2&e&&o["\u0275\u0275styleMap"](t.styles)},inputs:{state:"state"},decls:8,vars:3,consts:[[1,"matrix"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-icon-button","","matTooltip","Redimensionner",3,"click"],[3,"resized"],["resizer",""],[3,"state","stateChange"],["type","text","tabindex","1",3,"ngClass","ngStyle","disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e){var n=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275template"](1,z,4,10,"ng-container",1),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](2,"button",2),o["\u0275\u0275listener"]("click",(function(e){return o["\u0275\u0275restoreView"](n),o["\u0275\u0275reference"](6).open(e)})),o["\u0275\u0275elementStart"](3,"mat-icon"),o["\u0275\u0275text"](4,"aspect_ratio"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"wc-matrix-resizer",3,4),o["\u0275\u0275listener"]("resized",(function(e){return t.resize(e)})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"wc-base",5),o["\u0275\u0275listener"]("stateChange",(function(e){return t.state=e})),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngForOf",t.state.cells)("ngForTrackBy",t.trackBy),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("state",t.state))},directives:[v.NgForOf,s.b,u.a,l.a,C,O.a,a.DefaultValueAccessor,v.NgClass,v.NgStyle,a.NgControlStatus,a.NgModel],pipes:[m.a],styles:['[_nghost-%COMP%]{--cols:3;--rows:3;--row-size:2em;--col-size:4em;--gap:0.5em}.matrix[_ngcontent-%COMP%]{display:grid;height:calc(var(--row-size) * var(--rows) + var(--gap) * var(--rows) + .2rem);width:calc(var(--col-size) * var(--cols) + var(--gap) * var(--cols) + .2rem);grid-template-rows:repeat(var(--rows),1fr);grid-template-columns:repeat(var(--cols),1fr);-moz-column-gap:var(--gap);column-gap:var(--gap);row-gap:var(--gap);margin:1rem;vertical-align:middle;position:relative}.matrix[_ngcontent-%COMP%]:after, .matrix[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;bottom:-6px;border:1px solid #000;width:6px}.matrix[_ngcontent-%COMP%]:before{left:-12px;border-right:0}.matrix[_ngcontent-%COMP%]:after{right:-12px;border-left:0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;position:relative;width:var(--col-size);height:var(--row-size);border-radius:4px;text-align:center;border:1px solid #f0f0f0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:none}'],changeDetection:0}),k=Object(p.b)([Object(f.b)(h.a)],k)),P=((M=function e(){n(this,e),this.customElementComponent=S}).\u0275mod=o["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[d.a,m.b,a.FormsModule,c.g,l.b,u.b,s.c]]}),M)}}])}();