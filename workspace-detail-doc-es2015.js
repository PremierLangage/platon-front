(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0sgb":function(e,t,n){"use strict";n.r(t),n.d(t,"DocModule",function(){return x});var o=n("0S4P"),i=n("JAnZ"),r=n("3xDq"),a=n("e6WT"),s=n("Dxy4"),c=n("Q2Ze"),d=n("A9uA"),m=n("vOrQ"),l=n("cIEA"),u=n("pcbr"),p=n("M9ds"),h=n("FvuC"),b=n("Xr2x");function f(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"nge-monaco-editor",3),m["\u0275\u0275listener"]("ready",function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onCreateEditor(t)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](1,"br"),m["\u0275\u0275elementStart"](2,"div"),m["\u0275\u0275elementStart"](3,"button",4),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]();return t.didSave.emit(t.documentation)}),m["\u0275\u0275text"](4," Enregistrer "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5," \xa0 "),m["\u0275\u0275elementStart"](6,"a",5),m["\u0275\u0275text"](7," Documentation markdown "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](8,"br")}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("disabled",!e.documentation||!e.editable)}}function v(e,t){if(1&e&&m["\u0275\u0275element"](0,"nge-markdown",6),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",e.documentation)}}let g=(()=>{class e{constructor(){this.disposables=[],this.documentation="",this.editable=!0,this.didSave=new m.EventEmitter}onCreateEditor(e){e.updateOptions({readOnly:!this.editable});const t=this.model=this.model||monaco.editor.createModel(this.documentation,"markdown");e.setModel(this.model),this.disposables.push(this.model.onDidChangeContent(e=>{this.documentation=t.getValue()})),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S,e=>{})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["ws-resource-doc"]],inputs:{documentation:"documentation",editable:"editable"},outputs:{didSave:"didSave"},decls:5,vars:0,consts:[["label","\xc9diter"],["matTabContent",""],["label","Visualiser"],[2,"--editor-height","400px",3,"ready"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","href","https://mciissee.github.io/nge-markdown/cheatsheet","target","_blank"],[3,"data"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-tab-group"),m["\u0275\u0275elementStart"](1,"mat-tab",0),m["\u0275\u0275template"](2,f,9,1,"ng-template",1),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"mat-tab",2),m["\u0275\u0275template"](4,v,1,1,"ng-template",1),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())},directives:[p.c,p.a,p.b,h.f,s.b,s.a,b.NgeMarkdownComponent],styles:[""]}),e})(),C=(()=>{class e{constructor(e,t){this.detailService=e,this.changeDetector=t,this.subscriptions=[],this.context={state:"LOADING",events:[],members:[]}}ngOnInit(){this.subscriptions.push(this.detailService.context.subscribe(e=>{this.context=e,this.changeDetector.markForCheck()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}saveChanges(e){const t=Object(l.h)(this.context.resource);t.documentation=e,this.detailService.update(t)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](m.ChangeDetectorRef))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-circle-doc"]],decls:1,vars:2,consts:[[3,"documentation","editable","didSave"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ws-resource-doc",0),m["\u0275\u0275listener"]("didSave",function(e){return t.saveChanges(e)}),m["\u0275\u0275elementEnd"]()),2&e&&m["\u0275\u0275property"]("documentation",t.context.resource.documentation||"")("editable",!!t.context.isAdmin)},directives:[g],styles:[""],changeDetection:0}),e})(),x=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[o.CommonModule,r.FormsModule,r.ReactiveFormsModule,i.RouterModule.forChild([{path:"",component:C}]),a.b,s.c,c.e,d.a]]}),e})()}}]);