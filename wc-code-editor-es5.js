!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"4cXV":function(t,i,o){"use strict";o.d(i,"a",(function(){return d}));var a=o("vOrQ"),r=o("2qzO"),s=o("0S4P"),c=o("/suG"),l=["container"];function u(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275element"](1,"nge-monaco-viewer",1),a["\u0275\u0275pipe"](2,"json"),a["\u0275\u0275elementContainerEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("code",a["\u0275\u0275pipeBind1"](2,1,n.state))}}var d=function(){var t=function(){function t(n,i){e(this,t),this.api=n,this.elementRef=i,this.stateChange=new a.EventEmitter}return n(t,[{key:"ngOnInit",value:function(){var e,t=this,n=this.elementRef.nativeElement,i=null===(e=n.parentElement)||void 0===e?void 0:e.tagName.toLowerCase();this.definition=this.api.findBySelector(i||""),this.observer=new MutationObserver((function(e){e.forEach(t.createStateFromAttributes.bind(t))})),this.observer.observe(n.parentElement,{attributes:!0}),this.createStateFromAttributes()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}},{key:"parse",value:function(e){return e.trim().match(/^(true|false|\d+|\[|\{)/)?JSON.parse(e):e}},{key:"createStateFromAttributes",value:function(){for(var e,t,n=this.elementRef.nativeElement.parentElement.attributes,i={},o=(null===(t=null===(e=this.definition)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.properties)||{},a=!1,r=0,s=Array.from(n);r<s.length;r++){var c=s[r];c.name in o&&(a=!0,i[c.name]=this.parse(c.value))}a&&this.stateChange.emit(i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](r.a),a["\u0275\u0275directiveInject"](a.ElementRef))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["wc-base"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](l,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.container=n.first)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,u,3,3,"ng-container",0),2&e&&a["\u0275\u0275property"]("ngIf",null==t.state?null:t.state.debug)},directives:[s.NgIf,c.f],pipes:[s.JsonPipe],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]}),t}()},Yf6g:function(t,n,i){"use strict";i.d(n,"a",(function(){return s}));var o=i("0S4P"),a=i("/suG"),r=i("vOrQ"),s=function(){var t=function t(){e(this,t)};return t.\u0275mod=r["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.CommonModule,a.e],o.CommonModule]}),t}()},qAw3:function(t,i,o){"use strict";o.r(i),o.d(i,"CodeEditorModule",(function(){return y}));var a=o("vOrQ"),r=o("/suG"),s=o("Y2X+"),c=o("Yf6g"),l=o("D57K"),u=o("wgwC"),d=o("PSvM"),h=o("Vzkd"),f=o("0S4P"),m=o("4cXV"),p=["footer"];function g(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",10),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().reset()})),a["\u0275\u0275element"](1,"span",11),a["\u0275\u0275elementEnd"]()}}var v,b,C=((b=function(){function t(n,i){e(this,t),this.injector=n,this.changeDetector=i,this.disposables=[],this.width=0,this.height=0,this.initialCode="",this.cursor={column:0,lineNumber:0},this.decorations=[]}return n(t,[{key:"ngAfterViewChecked",value:function(){var e;if(this.editor&&this.footer){var t=this.footer.nativeElement.getBoundingClientRect();if(t){var n=t.width,i=t.height;this.width===n&&this.height===i||(null===(e=this.editor)||void 0===e||e.layout(),this.width=n,this.height=i)}}}},{key:"ngOnDestroy",value:function(){this.disposables.forEach((function(e){return e.dispose()}))}},{key:"onCreateEditor",value:function(e){var t=this;this.editor=e,e.setModel(this.model=this.model||monaco.editor.createModel(this.state.code||"",this.state.language||"plaintext")),this.detectOptionsChange(),this.model.updateOptions({tabSize:this.state.tabSize,insertSpaces:!0,trimAutoWhitespace:!0}),this.editor.updateOptions({autoIndent:"advanced",lineNumbers:"on",renderWhitespace:"all",quickSuggestions:!0,renderIndentGuides:!0,glyphMargin:!1,renderControlCharacters:!0,minimap:{enabled:!0},scrollbar:{verticalScrollbarSize:4,verticalSliderSize:4}}),this.disposables.push(this.model),this.disposables.push(this.editor),this.disposables.push(this.model.onDidChangeContent((function(){t.changeDetector.ignore(t,(function(){var e;t.state.code=(null===(e=t.model)||void 0===e?void 0:e.getValue())||""}))}))),this.disposables.push(this.editor.onDidChangeCursorPosition((function(e){t.changeDetector.ignore(t,(function(){t.cursor=e.position}))}))),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S,(function(){}),""),this.initialCode=this.state.code}},{key:"onChangeState",value:function(){var e;this.model&&(monaco.editor.setModelLanguage(this.model,this.state.language||"plaintext"),null===(e=this.editor)||void 0===e||e.updateOptions({tabSize:this.state.tabSize,quickSuggestions:this.state.quickSuggestions}),this.model.setValue(this.state.code))}},{key:"reset",value:function(){this.state.code=this.initialCode}},{key:"goToLine",value:function(){if(this.editor){var e=this.editor.getAction(r.a);this.editor.focus(),e.run()}}},{key:"quickCommand",value:function(){if(this.editor){var e=this.editor.getAction(r.g);this.editor.focus(),e.run()}}},{key:"changeIndent",value:function(){if(this.editor){var e=this.editor.getAction("editor.action.indentUsingSpaces");this.editor.focus(),e.run()}}},{key:"detectOptionsChange",value:function(){if(this.model){var e=this,t=this.model.updateOptions;this.model.updateOptions=function(n){t.apply(this,[n]),n.tabSize&&e.changeDetector.ignore(e,(function(){e.state.tabSize=n.tabSize||e.state.tabSize}))}}}}]),t}()).\u0275fac=function(e){return new(e||b)(a["\u0275\u0275directiveInject"](a.Injector),a["\u0275\u0275directiveInject"](d.a))},b.\u0275cmp=a["\u0275\u0275defineComponent"]({type:b,selectors:[["wc-code-editor"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275staticViewQuery"](p,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.footer=n.first)},inputs:{state:"state"},decls:14,vars:11,consts:[[3,"ready"],["footer",""],["aria-label","Raccourcies","matTooltip","Raccourcies",1,"footer-item",3,"click"],[1,"footer-item-icon","codicon","codicon-light-bulb"],["class","footer-item","aria-label","Remettre le code initial","matTooltip","Remettre le code initial",3,"click",4,"ngIf"],[1,"spacer"],["matTooltip","Aller \xe0 la ligne/colonne",1,"footer-item",3,"click"],["matTooltip","Modifier l'indentation",1,"footer-item",3,"click"],["matTooltip","Langage",1,"footer-item"],[3,"state","stateChange"],["aria-label","Remettre le code initial","matTooltip","Remettre le code initial",1,"footer-item",3,"click"],[1,"footer-item-icon","codicon","codicon-sync"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"nge-monaco-editor",0),a["\u0275\u0275listener"]("ready",(function(e){return t.onCreateEditor(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](1,"footer",null,1),a["\u0275\u0275elementStart"](3,"span",2),a["\u0275\u0275listener"]("click",(function(){return t.quickCommand()})),a["\u0275\u0275element"](4,"span",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](5,g,2,0,"span",4),a["\u0275\u0275element"](6,"span",5),a["\u0275\u0275elementStart"](7,"span",6),a["\u0275\u0275listener"]("click",(function(){return t.goToLine()})),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"span",7),a["\u0275\u0275listener"]("click",(function(){return t.changeIndent()})),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"span",8),a["\u0275\u0275text"](12),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](13,"wc-base",9),a["\u0275\u0275listener"]("stateChange",(function(e){return t.state=e})),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275styleProp"]("--editor-height",t.state.height+"px"),a["\u0275\u0275advance"](5),a["\u0275\u0275property"]("ngIf",t.initialCode),a["\u0275\u0275advance"](2),a["\u0275\u0275attribute"]("aria-label","Ln "+t.cursor.lineNumber+",Col  "+t.cursor.column),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate2"](" Ln ",t.cursor.lineNumber,", Col ",t.cursor.column," "),a["\u0275\u0275advance"](1),a["\u0275\u0275attribute"]("aria-label","Espaces:"+t.state.tabSize),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" Espaces: ",t.state.tabSize," "),a["\u0275\u0275advance"](1),a["\u0275\u0275attribute"]("aria-label",t.state.language),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.state.language," "),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("state",t.state))},directives:[r.d,s.a,f.NgIf,m.a],styles:["[_nghost-%COMP%]{display:block;height:100%}footer[_ngcontent-%COMP%]{height:22px;border:1px solid rgba(59,66,82,0);box-sizing:border-box;display:flex;align-items:center;background-color:#3b4252;color:#d8dee9;padding:.2rem 0;font-size:.8em}footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{cursor:pointer;padding:0 .6rem}footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]:hover{background-color:rgba(216,222,233,.2)}footer[_ngcontent-%COMP%]   .footer-item-icon[_ngcontent-%COMP%]{vertical-align:text-bottom!important}.spacer[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),b=Object(l.b)([Object(u.b)(h.a)],b)),y=((v=function t(){e(this,t),this.customElementComponent=C}).\u0275mod=a["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[c.a,s.b,r.e]]}),v)}}])}();