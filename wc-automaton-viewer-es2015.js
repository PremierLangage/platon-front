(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{JV9I:function(t,e,n){"use strict";n.r(e),n.d(e,"AutomatonViewerModule",(function(){return h}));var s=n("vOrQ"),i=n("u/VQ"),o=n("hvDT"),a=n("D57K"),r=n("wgwC"),c=n("RQ2g"),p=n("czpK");const l=["*"];let u=(()=>{let t=class{constructor(t){this.injector=t}onSetState(){this.dot=function(t){const e=["digraph finite_state_machine {","  rankdir=LR;"],n=["  node [shape = doublecircle];"];let s=0,i=[];for(s=0;s<t.acceptingStates.length;s++)n.push(t.acceptingStates[s].toString());return n.push(";"),n.length>2&&e.push(n.join(" ")),e.push("  node [shape = circle];"),s=0,t.initialStates.forEach(t=>{e.push(`  secret_node${s} [style=invis, shape=point]`);const n=[`  secret_node${s} ->`];n.push(t),n.push("[style=bold];"),e.push(n.join(" ")),s++}),t.transitions.forEach(n=>{let s=!1;t.initialStates.forEach(t=>{if(t===n.toState)return i=[" "],i.push(n.toState),i.push("->"),i.push(n.fromState),i.push("["),i.push("label ="),i.push('"'+n.symbols.join(",")+'"'),i.push(" dir = back];"),e.push(i.join(" ")),s=!0,!0}),s||(i=[" "],i.push(n.fromState.toString()),i.push("->"),i.push(n.toState.toString()),i.push("["),i.push("label ="),i.push('"'+n.symbols.join(",")+'"'),i.push(" ];"),e.push(i.join(" ")))}),e.push("}"),e.join("\n").replace(/\$/g,"$")}(function(t){const e=t.split(/\r?\n/),n={alphabet:[],initialStates:[],acceptingStates:[],states:[],transitions:[],position:{}};let s=[],i=[],o=[],a=[];const r=[];let c=null;const p={states:0,initials:0,accepting:0,alphabet:0,transitions:0};for(let l=0;l<e.length;l++){const t=e[l].replace(/\s/g,"");if(0!==t.length)if("#"===t[0]){if(c=t.substr(1),void 0===p[c])throw new Error("Line "+(l+1).toString()+": invalid section name "+c+". Must be one of: states, initials,                                 accepting, alphabet, transitions.");if(p[c]+=1,p[c]>1)throw new Error(`Line ${l+1}: duplicate section name ${c}.`)}else{if(null==c)throw new Error("Line "+(l+1).toString()+": no #section declared.                                 Add one section: states, initial, accepting,                                 alphabet, transitions.");if("states"===c)s=s.concat(t.split(";"));else if("initials"===c)i=i.concat(t.split(";"));else if("accepting"===c)o=o.concat(t.split(";"));else if("alphabet"===c)a=a.concat(t.split(";"));else if("transitions"===c){const e=t.split(":"),n=e[0].split(","),s=e[1].split(";");let i=[],o=[];for(let t=0;t<s.length;t++){const e=s[t].split(">");i=e[0].split(","),o=e[1].split(",")}r.push({fromState:n[0],toState:o[0],symbols:i})}}}for(const l in p)if(1!==p[l])throw new Error("Specification missing #"+p[l]+" section.");return n.states=s,n.initialStates=i,n.alphabet=a,n.acceptingStates=o,n.transitions=r,n}(this.state.automaton))}};return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](s.Injector))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["wc-automaton-viewer"]],inputs:{state:"state"},ngContentSelectors:l,decls:3,vars:2,consts:[[3,"renderDot"],[3,"state","stateChange"]],template:function(t,e){1&t&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275element"](0,"div",0),s["\u0275\u0275elementStart"](1,"wc-base",1),s["\u0275\u0275listener"]("stateChange",(function(t){return e.state=t})),s["\u0275\u0275projection"](2),s["\u0275\u0275elementEnd"]()),2&t&&(s["\u0275\u0275property"]("renderDot",e.dot),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("state",e.state))},directives:[i.a,p.a],styles:[""],changeDetection:0}),t=Object(a.b)([Object(r.b)(c.a)],t),t})(),h=(()=>{class t{constructor(){this.customElementComponent=u}}return t.\u0275mod=s["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[o.a,i.b]]}),t})()}}]);