!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0sgb":function(t,o,i){"use strict";i.r(o),i.d(o,"DocModule",function(){return E});var r=i("0S4P"),a=i("JAnZ"),c=i("3xDq"),s=i("e6WT"),d=i("Dxy4"),u=i("Q2Ze"),l=i("A9uA"),m=i("vOrQ"),p=i("cIEA"),f=i("pcbr"),h=i("M9ds"),b=i("FvuC"),v=i("Xr2x");function g(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"nge-monaco-editor",3),m["\u0275\u0275listener"]("ready",function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().onCreateEditor(e)}),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](1,"br"),m["\u0275\u0275elementStart"](2,"div"),m["\u0275\u0275elementStart"](3,"button",4),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275nextContext"]();return e.didSave.emit(e.documentation)}),m["\u0275\u0275text"](4," Enregistrer "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5," \xa0 "),m["\u0275\u0275elementStart"](6,"a",5),m["\u0275\u0275text"](7," Documentation markdown "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](8,"br")}if(2&e){var o=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("disabled",!o.documentation||!o.editable)}}function y(e,t){if(1&e&&m["\u0275\u0275element"](0,"nge-markdown",6),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("data",n.documentation)}}var C,w,x,S=((x=function(){function t(){e(this,t),this.disposables=[],this.documentation="",this.editable=!0,this.didSave=new m.EventEmitter}return n(t,[{key:"onCreateEditor",value:function(e){var t=this;e.updateOptions({readOnly:!this.editable});var n=this.model=this.model||monaco.editor.createModel(this.documentation,"markdown");e.setModel(this.model),this.disposables.push(this.model.onDidChangeContent(function(e){t.documentation=n.getValue()})),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S,function(e){})}}]),t}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=m["\u0275\u0275defineComponent"]({type:x,selectors:[["ws-resource-doc"]],inputs:{documentation:"documentation",editable:"editable"},outputs:{didSave:"didSave"},decls:5,vars:0,consts:[["label","\xc9diter"],["matTabContent",""],["label","Visualiser"],[2,"--editor-height","400px",3,"ready"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","href","https://mciissee.github.io/nge-markdown/cheatsheet","target","_blank"],[3,"data"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-tab-group"),m["\u0275\u0275elementStart"](1,"mat-tab",0),m["\u0275\u0275template"](2,g,9,1,"ng-template",1),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"mat-tab",2),m["\u0275\u0275template"](4,y,1,1,"ng-template",1),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())},directives:[h.c,h.a,h.b,b.f,d.b,d.a,v.NgeMarkdownComponent],styles:[""]}),x),k=((w=function(){function t(n,o){e(this,t),this.detailService=n,this.changeDetector=o,this.subscriptions=[],this.context={state:"LOADING",events:[],members:[]}}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.detailService.context.subscribe(function(t){e.context=t,e.changeDetector.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"saveChanges",value:function(e){var t=Object(p.h)(this.context.resource);t.documentation=e,this.detailService.update(t)}}]),t}()).\u0275fac=function(e){return new(e||w)(m["\u0275\u0275directiveInject"](f.a),m["\u0275\u0275directiveInject"](m.ChangeDetectorRef))},w.\u0275cmp=m["\u0275\u0275defineComponent"]({type:w,selectors:[["app-circle-doc"]],decls:1,vars:2,consts:[[3,"documentation","editable","didSave"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ws-resource-doc",0),m["\u0275\u0275listener"]("didSave",function(e){return t.saveChanges(e)}),m["\u0275\u0275elementEnd"]()),2&e&&m["\u0275\u0275property"]("documentation",t.context.resource.documentation||"")("editable",!!t.context.isAdmin)},directives:[S],styles:[""],changeDetection:0}),w),E=((C=function t(){e(this,t)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||C)},providers:[],imports:[[r.CommonModule,c.FormsModule,c.ReactiveFormsModule,a.RouterModule.forChild([{path:"",component:k}]),s.b,d.c,u.e,l.a]]}),C)}}])}();