<nz-row [nzGutter]="[24, 24]" nzAlign="top">
  <nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="8" nzXl="8">
    <nz-divider nzText="Arborescence" nzOrientation="left"></nz-divider>
    <nz-skeleton [nzActive]="!tree" [nzLoading]="!tree">
      <ws-circle-tree *ngIf="tree" [tree]="tree"></ws-circle-tree>
    </nz-skeleton>
    <mat-expansion-panel [expanded]="false">
      <mat-expansion-panel-header>
        Recherche avancée
      </mat-expansion-panel-header>
      <ng-container *ngIf="user">
        <ws-circle-filters
          [user]="user.username"
          [(filter)]="filter"
          (filterChange)="onChangeFilter($event)">
        </ws-circle-filters>
      </ng-container>
    </mat-expansion-panel>
  </nz-col>
  <nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="16" nzXl="16">
    <div class="search-wrapper">
      <ui-search-bar [searchBar]="searchBar">
        <ng-template let-context> {{ context }}</ng-template>
      </ui-search-bar>
      <button nz-button nzType="primary" (click)="search()">Rechercher</button>
    </div>
    <nz-spin *ngIf="searching" nzSimple nzSize="large"></nz-spin>
    <ws-list
      *ngIf="!searching"
      [items]="page.results"
      (didTapTag)="onTapTag($event)">
      <h2>Aucune ressource ne correspond à votre recherche</h2>
      <h4>Suggestions</h4>
      <ul style="list-style: none;">
        <li>Vérifiez les termes de votre recherche</li>
        <li>Essayez d'autres critères de recherche</li>
      </ul>
    </ws-list>
  </nz-col>
</nz-row>
