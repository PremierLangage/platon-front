<app-banner
  [bannerTitle]="'Espace de travail'"
  [bannerImage]="'assets/images/illustrations/network.png'"
  [bannerActions]="bannerActionsTemplate"
  [bannerSearchBar]="searchBar"
  bannerDescription="
  Choisissez vos critères de recherche, écrivez vos mots-clés dans la barre de recherche
  et appuyez sur la touche entrer pour lancer une recherche
  ">
  <ng-template #bannerActionsTemplate>
    <button class="banner-action" mat-raised-button>
      <mat-icon>info_outline</mat-icon>
      En savoir plus
    </button>
  </ng-template>
</app-banner>
<main>
  <section>
    <ui-list [items]="dataSource" idField="id">
      <ui-list-template slot="row">
        <ng-template let-item="item">
          <ws-resource-list-item
            [item]="item"
            (didFilterByTag)="triggerSearch($event)">
          </ws-resource-list-item>
        </ng-template>
      </ui-list-template>
      <ui-list-template slot="empty">
        <ng-template>
          <nz-empty [nzNotFoundContent]="content">
            <ng-template #content>
              <h2>Aucune ressource</h2>
            </ng-template>
          </nz-empty>
        </ng-template>
      </ui-list-template>
    </ui-list>
  </section>
  <aside>
    <form [formGroup]="form">
      <mat-expansion-panel [expanded]="true">
        <mat-expansion-panel-header>
          Recherche avancée
        </mat-expansion-panel-header>

        <!-- TYPE -->
        <div class="form-group">
          <mat-label id="search-type-label">Qu'est-ce que vous recherchez ?</mat-label>
          <mat-radio-group formControlName="sortBy" class="radio-group" aria-labelledby="search-type-label">
            <mat-checkbox
              value="CIRCLE"
              [checked]="form.value.types.includes('CIRCLE')"
              (change)="onCheckType($event)">
              <mat-icon>group_work</mat-icon>
              Cercle
            </mat-checkbox>
            <mat-checkbox
              value="EXERCISE"
              [checked]="form.value.types.includes('EXERCISE')"
              (change)="onCheckType($event)">
              <mat-icon>article</mat-icon>
              Exercice
            </mat-checkbox>
            <mat-checkbox
              value="ACTIVITY"
              [checked]="form.value.types.includes('ACTIVITY')"
              (change)="onCheckType($event)">
              <mat-icon>assessment</mat-icon>
              Activité
            </mat-checkbox>
          </mat-radio-group>
        </div>

        <!-- SORTBY -->
        <div class="form-group">
          <span id="sortby-label">Comment voulez-vous trier les résultats ?</span>
          <mat-radio-group formControlName="sortBy" class="radio-group" aria-labelledby="sortby-label">
            <mat-radio-button value="name">Nom</mat-radio-button>
            <mat-radio-button value="date">Date de mise à jour</mat-radio-button>
          </mat-radio-group>
        </div>

        <!-- STATUS -->
        <div class="form-group">
          <mat-label id="status-label">Quel est le status de ce que vous recherchez ?</mat-label>
          <mat-radio-group formControlName="status" class="radio-group" aria-labelledby="status-label">
            <mat-radio-button value="ALL">Je ne sais pas</mat-radio-button>
            <mat-radio-button value="READY">Prêt</mat-radio-button>
            <mat-radio-button value="DRAFT">Brouillon</mat-radio-button>
            <mat-radio-button value="NOT_TESTED">Non tester</mat-radio-button>
            <mat-radio-button value="BUGGED">Contient des bugs</mat-radio-button>
            <mat-radio-button value="DEPRECATED">À ne plus utiliser</mat-radio-button>
          </mat-radio-group>
        </div>

        <!-- DATE -->
        <div class="form-group">
          <mat-label id="update-date-label">Souhaitez-vous limiter les résultats à une certaine période ?</mat-label>
          <mat-radio-group formControlName="date" class="radio-group" aria-labelledby="update-date-label">
            <mat-radio-button [value]="0">Tout</mat-radio-button>
            <mat-radio-button [value]="1">1 jour</mat-radio-button>
            <mat-radio-button [value]="7">1 semaine</mat-radio-button>
            <mat-radio-button [value]="31">1 mois</mat-radio-button>
            <mat-radio-button [value]="180">6 mois</mat-radio-button>
            <mat-radio-button [value]="365">1 an</mat-radio-button>
          </mat-radio-group>
        </div>
      </mat-expansion-panel>
    </form>
  </aside>
</main>
