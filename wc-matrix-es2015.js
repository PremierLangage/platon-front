(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{QXAp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("0S4P"),i=n("/suG"),o=n("vOrQ");let s=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.CommonModule,i.g],r.CommonModule]}),e})()},hPIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("vOrQ"),i=n("5HSb"),o=n("0S4P"),s=n("/suG");const a=["container"];function c(e,t){if(1&e&&(r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275element"](1,"nge-monaco-viewer",1),r["\u0275\u0275pipe"](2,"json"),r["\u0275\u0275elementContainerEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("code",r["\u0275\u0275pipeBind1"](2,1,e.state))}}let l=(()=>{class e{constructor(e,t){this.api=e,this.elementRef=t,this.stateChange=new r.EventEmitter}ngOnInit(){var e;const t=this.elementRef.nativeElement,n=null===(e=t.parentElement)||void 0===e?void 0:e.tagName.toLowerCase();this.definition=this.api.findBySelector(n||""),this.observer=new MutationObserver(e=>{e.forEach(this.createStateFromAttributes.bind(this))}),this.observer.observe(t.parentElement,{attributes:!0}),this.createStateFromAttributes()}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}parse(e){return e.trim().match(/^(true|false|\d+|\[|\{)/)?JSON.parse(e):e}createStateFromAttributes(){var e,t;const n=this.elementRef.nativeElement.parentElement.attributes,r={},i=(null===(t=null===(e=this.definition)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.properties)||{};let o=!1;for(const s of Array.from(n))s.name in i&&(o=!0,r[s.name]=this.parse(s.value));o&&this.stateChange.emit(r)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["wc-base"]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](a,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.container=n.first)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(e,t){1&e&&r["\u0275\u0275template"](0,c,3,3,"ng-container",0),2&e&&r["\u0275\u0275property"]("ngIf",null==t.state?null:t.state.debug)},directives:[o.NgIf,s.h],pipes:[o.JsonPipe],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]}),e})()},tnRD:function(e,t,n){"use strict";n.r(t),n.d(t,"MatrixModule",(function(){return O}));var r=n("vOrQ"),i=n("3xDq"),o=n("hCLc"),s=n("ydE+"),a=n("5GZx"),c=n("WYJo"),l=n("QXAp"),d=n("OS2g"),m=n("D57K"),p=n("hlYy"),u=n("FKBY"),g=n("0S4P"),h=n("ZtZA");const f=["template"];function v(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"div",7),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).done(n)}))("mouseover",(function(){r["\u0275\u0275restoreView"](e);const n=t.$implicit;return r["\u0275\u0275nextContext"](2).hover(n)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("on",n.isOn(e))}}function x(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",1),r["\u0275\u0275elementStart"](1,"div",2),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"div",3),r["\u0275\u0275elementStart"](5,"button",4),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().close()})),r["\u0275\u0275elementStart"](6,"mat-icon"),r["\u0275\u0275text"](7,"close"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](8,"div",5),r["\u0275\u0275template"](9,v,2,2,"ng-container",6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate2"]("Choisissez la taille de votre matrice: (",e.rows+1,", ",e.cols+1,")"),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngForOf",e.cells)("ngForTrackBy",e.trackBy)}}let w=(()=>{class e{constructor(e,t){this.overlay=e,this.container=t,this.width=10,this.cells=Array.from({length:this.width*this.width},(e,t)=>t),this.cols=0,this.rows=0,this.resized=new r.EventEmitter}ngOnDestroy(){var e;null===(e=this.resizer)||void 0===e||e.dispose()}isOn(e){const t=e%this.width;return Math.floor(e/this.width)<=this.rows&&t<=this.cols}hover(e){this.cols=e%this.width,this.rows=Math.floor(e/this.width)}done(e){this.resized.emit({cols:e%this.width+1,rows:Math.floor(e/this.width)+1}),this.close()}open(e){const{x:t,y:n}=e,r=this.overlay.position().flexibleConnectedTo({x:t,y:n}).withPositions([{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"}]);this.resizer=this.overlay.create({positionStrategy:r,hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.close()}),this.resizer.attach(new h.h(this.template,this.container))}close(){var e;null===(e=this.resizer)||void 0===e||e.dispose(),this.resizer=void 0}trackBy(e){return e}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.d),r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["wc-matrix-resizer"]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](f,!0,r.TemplateRef),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.template=n.first)},outputs:{resized:"resized"},decls:2,vars:0,consts:[["template",""],[1,"matrix-resizer"],[1,"matrix-resizer-header"],[1,"spacer"],["mat-icon-button","","matTooltip","Annuler",3,"click"],[1,"matrix-resizer-grid"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"matrix-resizer-box",3,"click","mouseover"]],template:function(e,t){1&e&&r["\u0275\u0275template"](0,x,10,4,"ng-template",null,0,r["\u0275\u0275templateRefExtractor"])},directives:[o.b,c.a,s.a,g.NgForOf],styles:[".matrix-resizer[_ngcontent-%COMP%]{background-color:#fff}.matrix-resizer-header[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1;background-color:#f5f5f5;width:calc((20px * 10) + 10px);height:32px;font-size:.8em}.matrix-resizer-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 8px}.matrix-resizer-header[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{height:32px;font-size:1.4em}.matrix-resizer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,20px);grid-template-rows:repeat(10,20px);-moz-column-gap:1px;column-gap:1px;row-gap:1px}.matrix-resizer-box[_ngcontent-%COMP%]{border:1px solid #eee;transition:background-color .5s;cursor:pointer}.matrix-resizer-box.on[_ngcontent-%COMP%], .matrix-resizer-box[_ngcontent-%COMP%]:hover{background-color:var(--brand-color-primary)}.spacer[_ngcontent-%COMP%]{flex:1}"]}),e})();var y=n("hPIy");function C(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0),r["\u0275\u0275elementStart"](1,"input",6),r["\u0275\u0275listener"]("ngModelChange",(function(n){return r["\u0275\u0275restoreView"](e),t.$implicit.value=n})),r["\u0275\u0275pipe"](2,"css"),r["\u0275\u0275pipe"](3,"css"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngClass",r["\u0275\u0275pipeBind2"](2,4,e.css,"class"))("ngStyle",r["\u0275\u0275pipeBind2"](3,7,e.css,"style"))("disabled",!(!n.state.disabled&&!e.disabled))("ngModel",e.value)}}let b=(()=>{let e=class{constructor(e){this.injector=e}get styles(){return{"--cols":this.state.cols,"--rows":this.state.rows}}onChangeState(){const{cols:e,rows:t}=this.state;this.state.cells||(this.state.cells=[]);const n=this.state.cells.length,r=e*t;if(n<r)for(let i=n;i<r;i++)this.state.cells.push({value:"0"});else n>r&&(this.state.cells=this.state.cells.slice(0,r))}resize(e){this.state.cols=e.cols,this.state.rows=e.rows}trackBy(e){return e}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Injector))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["wc-matrix"]],hostVars:2,hostBindings:function(e,t){2&e&&r["\u0275\u0275styleMap"](t.styles)},inputs:{state:"state"},decls:8,vars:3,consts:[[1,"matrix"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-icon-button","","matTooltip","Redimensionner",3,"click"],[3,"resized"],["resizer",""],[3,"state","stateChange"],["type","text","tabindex","1",3,"ngClass","ngStyle","disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,C,4,10,"ng-container",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"button",2),r["\u0275\u0275listener"]("click",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275reference"](6).open(t)})),r["\u0275\u0275elementStart"](3,"mat-icon"),r["\u0275\u0275text"](4,"aspect_ratio"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"wc-matrix-resizer",3,4),r["\u0275\u0275listener"]("resized",(function(e){return t.resize(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"wc-base",5),r["\u0275\u0275listener"]("stateChange",(function(e){return t.state=e})),r["\u0275\u0275elementEnd"]()}2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.state.cells)("ngForTrackBy",t.trackBy),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("state",t.state))},directives:[g.NgForOf,o.b,c.a,s.a,w,y.a,i.DefaultValueAccessor,g.NgClass,g.NgStyle,i.NgControlStatus,i.NgModel],pipes:[d.a],styles:['[_nghost-%COMP%]{--cols:3;--rows:3;--row-size:2em;--col-size:4em;--gap:0.5em}.matrix[_ngcontent-%COMP%]{display:grid;height:calc(var(--row-size) * var(--rows) + var(--gap) * var(--rows) + .2rem);width:calc(var(--col-size) * var(--cols) + var(--gap) * var(--cols) + .2rem);grid-template-rows:repeat(var(--rows),1fr);grid-template-columns:repeat(var(--cols),1fr);-moz-column-gap:var(--gap);column-gap:var(--gap);row-gap:var(--gap);margin:1rem;vertical-align:middle;position:relative}.matrix[_ngcontent-%COMP%]:after, .matrix[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;bottom:-6px;border:1px solid #000;width:6px}.matrix[_ngcontent-%COMP%]:before{left:-12px;border-right:0}.matrix[_ngcontent-%COMP%]:after{right:-12px;border-left:0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;position:relative;width:var(--col-size);height:var(--row-size);border-radius:4px;text-align:center;border:1px solid #f0f0f0}.matrix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:none}'],changeDetection:0}),e=Object(m.b)([Object(p.b)(u.a)],e),e})(),O=(()=>{class e{constructor(){this.customElementComponent=b}}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.a,d.b,i.FormsModule,a.g,s.b,c.b,o.c]]}),e})()}}]);