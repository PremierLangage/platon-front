!function(){function e(e,n){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{JS64:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r("D57K"),i=r("vOrQ"),s=r("+OD8"),c=function(){var e=function(){function e(){n(this,e)}return o(e,[{key:"batch",value:function(e,t){var n=e.$__suspendChanges__$;e.$__suspendChanges__$=!0,t(),e.onChangeState&&e.onChangeState(),e.$__changeDetector__$||(e.$__changeDetector__$=e.injector.get(i.ChangeDetectorRef)),e.$__changeDetector__$.detectChanges(),e.$__suspendChanges__$=n}},{key:"ignore",value:function(e,t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.$__suspendChanges__$,e.$__suspendChanges__$=!0,n.next=4,t();case 4:return o=n.sent,n.abrupt("return",(e.$__changeDetector__$||(e.$__changeDetector__$=e.injector.get(i.ChangeDetectorRef)),e.$__changeDetector__$.detectChanges(),e.$__suspendChanges__$=r,o));case 6:case"end":return n.stop()}}),n)})))}},{key:"changes",value:function(e){if(!e.$__stateCopy__$)return e.$__stateCopy__$=Object(s.f)(e.$__state__$),[];var t=[];return new Set(Object.keys(e.$__state__$).concat(Object.keys(e.$__stateCopy__$))).forEach((function(n){Object(s.g)(e.$__state__$[n],e.$__stateCopy__$[n])||t.push(n)})),e.$__stateCopy__$=Object(s.f)(e.$__state__$),t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},QXAp:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("0S4P"),a=r("/suG"),i=r("vOrQ"),s=function(){var e=function e(){n(this,e)};return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.CommonModule,a.g],o.CommonModule]}),e}()},hPIy:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("vOrQ"),i=r("5HSb"),s=r("0S4P"),c=r("/suG"),u=["container"];function h(e,t){if(1&e&&(a["\u0275\u0275elementContainerStart"](0),a["\u0275\u0275element"](1,"nge-monaco-viewer",1),a["\u0275\u0275pipe"](2,"json"),a["\u0275\u0275elementContainerEnd"]()),2&e){var n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("code",a["\u0275\u0275pipeBind1"](2,1,n.state))}}var f=function(){var e=function(){function e(t,r){n(this,e),this.api=t,this.elementRef=r,this.stateChange=new a.EventEmitter}return o(e,[{key:"ngOnInit",value:function(){var e,t=this,n=this.elementRef.nativeElement,r=null===(e=n.parentElement)||void 0===e?void 0:e.tagName.toLowerCase();this.definition=this.api.findBySelector(r||""),this.observer=new MutationObserver((function(e){e.forEach(t.createStateFromAttributes.bind(t))})),this.observer.observe(n.parentElement,{attributes:!0}),this.createStateFromAttributes()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}},{key:"parse",value:function(e){return e.trim().match(/^(true|false|\d+|\[|\{)/)?JSON.parse(e):e}},{key:"createStateFromAttributes",value:function(){for(var e,t,n=this.elementRef.nativeElement.parentElement.attributes,r={},o=(null===(t=null===(e=this.definition)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.properties)||{},a=!1,i=0,s=Array.from(n);i<s.length;i++){var c=s[i];c.name in o&&(a=!0,r[c.name]=this.parse(c.value))}a&&this.stateChange.emit(r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](a.ElementRef))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["wc-base"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](u,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.container=n.first)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,h,3,3,"ng-container",0),2&e&&a["\u0275\u0275property"]("ngIf",null==t.state?null:t.state.debug)},directives:[s.NgIf,c.h],pipes:[s.JsonPipe],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]}),e}()},wO5c:function(t,r,a){"use strict";a.r(r),a.d(r,"JsxModule",(function(){return m}));var i,s,c,u=a("vOrQ"),h=a("QXAp"),f=a("D57K"),d=a("+OD8"),l=a("hlYy"),p=a("JS64"),v=a("v/2B"),_=a("hPIy"),g=((c=i=function(){function t(e,r){n(this,t),this.injector=e,this.changeDetector=r,this.boardId="jsx_graph"+ ++i.NEXT_ID}return o(t,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.injector.get(d.a),e.next=3,t.loadAllSync([["script","assets/vendors/jsxgraph/jsxgraphcore.js"],["style","assets/vendors/jsxgraph/jsxgraph.css"]]).toPromise();case 3:JXG.Options=JXG.merge(JXG.Options,{board:{showCopyright:!1,keepAspectRatio:!0},elements:{highlight:!1,showInfobox:!1},point:{showInfobox:!1}}),this.createBoard();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.destroyBoard()}},{key:"onChangeState",value:function(){var e=this.changeDetector.changes(this);(e.includes("script")||e.includes("attributes"))&&this.createBoard(),e.includes("points")&&this.writePoints(),this.state.disabled?this.board.removeEventHandlers():this.board.hasPointerHandlers||this.board.addEventHandlers()}},{key:"createBoard",value:function(){var e=this;this.destroyBoard(),this.board=JXG.JSXGraph.initBoard(this.boardId,Object.assign({axis:!0},this.state.attributes||{})),this.board.on("update",(function(){e.changeDetector.batch(e,(function(){e.readPoints()}))}));var t=decodeURIComponent(this.state.script);new Function("board",t)(this.board),this.readPoints()}},{key:"destroyBoard",value:function(){this.board&&JXG.JSXGraph.freeBoard(this.board)}},{key:"readPoints",value:function(){if(this.state.points={},this.board.objectsList){var t,n=e(this.board.objectsList);try{for(n.s();!(t=n.n()).done;){var r=t.value;JXG.isPoint(r)&&r.name&&(this.state.points[r.name]={x:r.X(),y:r.Y()})}}catch(o){n.e(o)}finally{n.f()}}}},{key:"writePoints",value:function(){for(var e=this,t=!1,n=Object.keys(this.state.points),r=function(){var n=a[o],r=e.board.objectsList.find((function(e){return JXG.isPoint(e)&&e.name===n}));if(r){var i=e.state.points[n];r.setPosition(JXG.COORDS_BY_USER,[i.x,i.y]),t=!0}},o=0,a=n;o<a.length;o++)r();t&&this.board.fullUpdate()}}]),t}()).NEXT_ID=0,c.\u0275fac=function(e){return new(e||c)(u["\u0275\u0275directiveInject"](u.Injector),u["\u0275\u0275directiveInject"](p.a))},c.\u0275cmp=u["\u0275\u0275defineComponent"]({type:c,selectors:[["wc-jsx"]],inputs:{state:"state"},decls:2,vars:2,consts:[[1,"jsxgraph-component",3,"id"],[3,"state","stateChange"]],template:function(e,t){1&e&&(u["\u0275\u0275element"](0,"div",0),u["\u0275\u0275elementStart"](1,"wc-base",1),u["\u0275\u0275listener"]("stateChange",(function(e){return t.state=e})),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("id",t.boardId),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("state",t.state))},directives:[_.a],styles:[".jsxgraph-component[_ngcontent-%COMP%]{max-width:400px;width:90vw;max-height:400px;height:90vw;margin:0 auto}"],changeDetection:0}),c=i=Object(f.b)([Object(l.b)(v.a)],c)),m=((s=function e(){n(this,e),this.customElementComponent=g}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||s)},imports:[[h.a]]}),s)}}])}();