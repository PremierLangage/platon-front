!function(){function t(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"4cXV":function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var o=r("vOrQ"),a=r("2qzO"),s=r("0S4P"),c=r("/suG"),u=["container"];function d(t,e){if(1&t&&(o["\u0275\u0275elementContainerStart"](0),o["\u0275\u0275element"](1,"nge-monaco-viewer",1),o["\u0275\u0275pipe"](2,"json"),o["\u0275\u0275elementContainerEnd"]()),2&t){var n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("code",o["\u0275\u0275pipeBind1"](2,1,n.state))}}var f=function(){var t=function(){function t(e,r){n(this,t),this.api=e,this.elementRef=r,this.stateChange=new o.EventEmitter}return i(t,[{key:"ngOnInit",value:function(){var t,e=this,n=this.elementRef.nativeElement,r=null===(t=n.parentElement)||void 0===t?void 0:t.tagName.toLowerCase();this.definition=this.api.findBySelector(r||""),this.observer=new MutationObserver((function(t){t.forEach(e.createStateFromAttributes.bind(e))})),this.observer.observe(n.parentElement,{attributes:!0}),this.createStateFromAttributes()}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.observer)||void 0===t||t.disconnect()}},{key:"parse",value:function(t){return t.trim().match(/^(true|false|\d+|\[|\{)/)?JSON.parse(t):t}},{key:"createStateFromAttributes",value:function(){for(var t,e,n=this.elementRef.nativeElement.parentElement.attributes,r={},i=(null===(e=null===(t=this.definition)||void 0===t?void 0:t.schema)||void 0===e?void 0:e.properties)||{},o=!1,a=0,s=Array.from(n);a<s.length;a++){var c=s[a];c.name in i&&(o=!0,r[c.name]=this.parse(c.value))}o&&this.stateChange.emit(r)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](o.ElementRef))},t.\u0275cmp=o["\u0275\u0275defineComponent"]({type:t,selectors:[["wc-base"]],viewQuery:function(t,e){var n;1&t&&o["\u0275\u0275viewQuery"](u,!0),2&t&&o["\u0275\u0275queryRefresh"](n=o["\u0275\u0275loadQuery"]())&&(e.container=n.first)},inputs:{state:"state"},outputs:{stateChange:"stateChange"},decls:1,vars:1,consts:[[4,"ngIf"],["language","json",3,"code"]],template:function(t,e){1&t&&o["\u0275\u0275template"](0,d,3,3,"ng-container",0),2&t&&o["\u0275\u0275property"]("ngIf",null==e.state?null:e.state.debug)},directives:[s.NgIf,c.f],pipes:[s.JsonPipe],styles:["[_nghost-%COMP%]{display:block;margin:.5rem 0}div[_ngcontent-%COMP%]{display:none}"]}),t}()},Yf6g:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var i=r("0S4P"),o=r("/suG"),a=r("vOrQ"),s=function(){var t=function t(){n(this,t)};return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.CommonModule,o.e],i.CommonModule]}),t}()},xZwZ:function(e,r,o){"use strict";o.r(r),o.d(r,"JsxModule",(function(){return y}));var a,s,c,u=o("vOrQ"),d=o("Yf6g"),f=o("D57K"),l=o("+OD8"),h=o("wgwC"),p=o("PSvM"),v=o("RuVo"),m=o("4cXV"),b=((c=a=function(){function e(t,r){n(this,e),this.injector=t,this.changeDetector=r,this.boardId="jsx_graph"+ ++a.NEXT_ID}return i(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.injector.get(l.a),t.next=3,e.loadAllSync([["script","assets/vendors/jsxgraph/jsxgraphcore.js"],["style","assets/vendors/jsxgraph/jsxgraph.css"]]).toPromise();case 3:JXG.Options=JXG.merge(JXG.Options,{board:{showCopyright:!1,keepAspectRatio:!0},elements:{highlight:!1,showInfobox:!1},point:{showInfobox:!1}}),this.createBoard();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){this.destroyBoard()}},{key:"onChangeState",value:function(){var t=this.changeDetector.changes(this);(t.includes("script")||t.includes("attributes"))&&this.createBoard(),t.includes("points")&&this.writePoints(),this.state.disabled?this.board.removeEventHandlers():this.board.hasPointerHandlers||this.board.addEventHandlers()}},{key:"createBoard",value:function(){var t=this;this.destroyBoard(),this.board=JXG.JSXGraph.initBoard(this.boardId,Object.assign({axis:!0},this.state.attributes||{})),this.board.on("update",(function(){t.changeDetector.batch(t,(function(){t.readPoints()}))}));var e=decodeURIComponent(this.state.script);new Function("board",e)(this.board),this.readPoints()}},{key:"destroyBoard",value:function(){this.board&&JXG.JSXGraph.freeBoard(this.board)}},{key:"readPoints",value:function(){if(this.state.points={},this.board.objectsList){var e,n=t(this.board.objectsList);try{for(n.s();!(e=n.n()).done;){var r=e.value;JXG.isPoint(r)&&r.name&&(this.state.points[r.name]={x:r.X(),y:r.Y()})}}catch(i){n.e(i)}finally{n.f()}}}},{key:"writePoints",value:function(){for(var t=this,e=!1,n=Object.keys(this.state.points),r=function(){var n=o[i],r=t.board.objectsList.find((function(t){return JXG.isPoint(t)&&t.name===n}));if(r){var a=t.state.points[n];r.setPosition(JXG.COORDS_BY_USER,[a.x,a.y]),e=!0}},i=0,o=n;i<o.length;i++)r();e&&this.board.fullUpdate()}}]),e}()).NEXT_ID=0,c.\u0275fac=function(t){return new(t||c)(u["\u0275\u0275directiveInject"](u.Injector),u["\u0275\u0275directiveInject"](p.a))},c.\u0275cmp=u["\u0275\u0275defineComponent"]({type:c,selectors:[["wc-jsx"]],inputs:{state:"state"},decls:2,vars:2,consts:[[1,"jsxgraph-component",3,"id"],[3,"state","stateChange"]],template:function(t,e){1&t&&(u["\u0275\u0275element"](0,"div",0),u["\u0275\u0275elementStart"](1,"wc-base",1),u["\u0275\u0275listener"]("stateChange",(function(t){return e.state=t})),u["\u0275\u0275elementEnd"]()),2&t&&(u["\u0275\u0275property"]("id",e.boardId),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("state",e.state))},directives:[m.a],styles:[".jsxgraph-component[_ngcontent-%COMP%]{max-width:400px;width:90vw;max-height:400px;height:90vw;margin:0 auto}"],changeDetection:0}),c=a=Object(f.b)([Object(h.b)(v.a)],c)),y=((s=function t(){n(this,t),this.customElementComponent=b}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||s)},imports:[[d.a]]}),s)}}])}();